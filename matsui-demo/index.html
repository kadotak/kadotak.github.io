<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>レビュー形態素解析デモ</title>
  <script src="https://cdn.jsdelivr.net/npm/kuromoji@0.1.2/dist/kuromoji.js"></script>
</head>
<body>
  <h2>レビューを入力してください（日本語）</h2>
  <textarea id="review_input" rows="6" cols="60">この服はとても暖かいが、値段が高い。</textarea><br>
  <button onclick="analyze()">名詞を抽出</button>

  <div id="result"></div>

  <script>
    function analyze() {
      const input = document.getElementById("review_input").value;

      kuromoji.builder({ dicPath: "https://cdn.jsdelivr.net/npm/kuromoji@0.1.2/dict/" }).build(function (err, tokenizer) {
        if (err) {
          document.getElementById("result").innerText = "辞書の読み込みエラー: " + err;
          return;
        }

        const tokens = tokenizer.tokenize(input);
        const nouns = tokens.filter(t => t.pos === "名詞").map(t => t.surface_form);

        let html = "<h3>抽出された名詞（タグ候補）:</h3><ul>";
        for (const noun of nouns) {
          html += `<li>${noun}</li>`;
        }
        html += "</ul>";
        document.getElementById("result").innerHTML = html;
      });
    }
  </script>
</body>
</html>
